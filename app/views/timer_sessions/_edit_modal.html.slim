.redmine-tracky[data-controller="issue-completion"]
  .edit-modal
    = error_messages_for timer_session
    = labelled_form_for(timer_session, remote: true) do |f|
      .row
        .update-issue-container
          .box
            = render 'shared/ticker_issue_list.html.slim', timer_session: timer_session,
              data_anker: 'data-update-issue-deletion-action',
              container_data_anker: 'data-update-issue-selection-container'
            hr
            = f.text_field :issue_id, label: false, id: 'timer_session_update_issue_id',
              type: :search, data: { issue_completion_target: 'input' }
            - if SettingsManager.visible_hints
              small.form-text.text-muted = t('timer_sessions.messaging.issue_list_hint')
      hr.mb-3
      = f.text_field :comments, data: { timer_update_comment_input: '' },
        placeholder: t('timer_sessions.messaging.comments_placeholder')
      br
      .times-container
        .col
          = render 'shared/time_entry_input', f: f, input_name: :timer_start, value: timer_session.timer_start, required: true, target: 'start'
          - if SettingsManager.visible_hints
            small.form-text.text-muted = t('timer_sessions.messaging.timer_start_hint')
        br
        .col
          = render 'shared/time_entry_input', f: f, input_name: :timer_end, value: timer_session.timer_end, required: true, target: 'end'
          - if SettingsManager.visible_hints
            small.form-text.text-muted = t('timer_sessions.messaging.timer_end_hint')
      .mb-3

      .buttons
        = f.submit t('timer_sessions.edit.update'), data: { modal_update_button: '' }
        br.mt-3
        = link_to_function l(:button_cancel), 'hideModal(this);', class: 'primary-cancel-button'
